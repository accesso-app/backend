openapi: 3.0.1
info:
  title: Accesso App Admin API.
  version: 0.1.0
  description: API for Management
externalDocs:
  url: https://accesso-app.github.io/backend/api-internal/index.html
servers:
  - url: http://localhost:9020/
  - url: https://accesso.sova.dev/api/admin
paths:
  "/applications/user.add":
    post:
      operationId: applicationsUserAdd
      tags: [ Applications ]
      description: Add user request
      requestBody:
        $ref: "#/components/requestBodies/ApplicationsUserAdd"
      responses:
        200:
          $ref: "#/components/responses/ApplicationsUserAddSuccess"
        400:
          $ref: "#/components/responses/ApplicationsUserAddFailure"
        500:
          description: Something went wrong

components:
  responses:
    ApplicationsUserAddSuccess:
      description: User was added successful.
      content:
        application/json:
          schema:
            type: object

    ApplicationsUserAddFailure:
      description:
        Happens when something went wrong after attemp to connect user with application
      content:
        application/json:
          schema:
            required:
              - code
            properties:
              code:
                description: |
                  Possible errors: <br/>
                  `access_denied` — This error occures when user's session was expired | user doesn't have enough permission | or user unauthorized.<br/>
                  `invalid_request` — Something was wrong with user request.<br/>
                  `application_not_found` — Occure when application_id was not found.<br/>
                  `user_not_found` — Occure when user_id was not found.<br/>
                type: string
                enum:
                  - access_denied
                  - invalid_request
                  - application_not_found
                  - user_not_found
  
  requestBodies:
    ApplicationsUserAdd:
      required: true
      content:
        application/json:
          schema:
            required:
              - appId
              - userId
            properties:
              applicationId:
                description: The identifier of application.
                type: string
                format: uuid
                example: 41190cee-5231-4dcc-8167-ebf798b55ce3
              userId:
                type: string
                format: uuid
                example: 41190cee-5231-4dcc-8167-ebf798b55ce3
